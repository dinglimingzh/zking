2018-12-30 18:01:03,082 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId obtain request, robotAgentId : 0fd687f3-09be-4919-b533-3d89c613590e
2018-12-30 18:01:03,084 ERROR [http-nio-8999-exec-5]  c.e.k.r.i.c.r.AbstractKefuRobotIntegrationController - AbstractKefuRobotIntegrationController | log exception , e
com.easemob.kefu.robot.integration.commons.models.exception.IllegalArgException: robot not exist
	at com.easemob.kefu.robot.integration.commons.service.impl.RobotService.findByTenantIdAndRobotAgentId(RobotService.java:368)
	at com.easemob.kefu.robot.integration.commons.service.impl.RobotService$$FastClassBySpringCGLIB$$174211a0.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:651)
	at com.easemob.kefu.robot.integration.commons.service.impl.RobotService$$EnhancerBySpringCGLIB$$c7308f4f.findByTenantIdAndRobotAgentId(<generated>)
	at com.easemob.kefu.robot.integration.commons.rest.internal.RobotIntegrationInternalController.getRobotByRobotAgentId(RobotIntegrationInternalController.java:71)
	at sun.reflect.GeneratedMethodAccessor198.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:817)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:731)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:968)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:859)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:844)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:237)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:112)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:207)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
2018-12-30 18:04:42,281 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:42,283 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:42,284 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:42,286 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:42,633 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:42,635 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:42,637 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:42,638 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:42,751 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:42,753 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:42,754 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:42,755 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:42,761 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 7b721036-5b84-4805-b4e7-4832bb586269
2018-12-30 18:04:42,761 ERROR [http-nio-8999-exec-7]  c.e.k.r.i.c.r.AbstractKefuRobotIntegrationController - AbstractKefuRobotIntegrationController | log exception , e
com.easemob.kefu.robot.integration.commons.models.exception.IllegalArgException: robot not exist
	at com.easemob.kefu.robot.integration.commons.service.impl.RobotService.findByTenantIdAndRobotRouteId(RobotService.java:354)
	at com.easemob.kefu.robot.integration.commons.service.impl.RobotService$$FastClassBySpringCGLIB$$174211a0.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:651)
	at com.easemob.kefu.robot.integration.commons.service.impl.RobotService$$EnhancerBySpringCGLIB$$c7308f4f.findByTenantIdAndRobotRouteId(<generated>)
	at com.easemob.kefu.robot.integration.commons.rest.internal.RobotIntegrationInternalController.getRobotByRobotRoute(RobotIntegrationInternalController.java:63)
	at sun.reflect.GeneratedMethodAccessor203.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:817)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:731)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:968)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:859)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:844)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:237)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:112)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:207)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
2018-12-30 18:04:56,728 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:56,730 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:56,731 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:56,732 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:56,768 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:56,770 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:56,774 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:56,775 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:56,778 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 askRobotForAnswer obtain request,robotId:7b721036-5b84-4805-b4e7-4832bb586269, robotIntegrationContext : {"questionInfo":{"tenantId":43,"sessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","askUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","robotId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","questionId":"8b5a3413-3be5-441e-9a09-0fa4e8ce1793","question":"????????","userLocation":null,"userLocale":"zh-CN","robotAppParam":{"zabx":{"service_id":"119898"}},"strategyTransData":"{\"tenantId\":43,\"serviceSessionId\":\"f5b5a7f4-c200-4e91-b13e-bdc528a5de70\"}","questionType":null},"easemobMessage":{"bodies":[{"msg":"????????","type":"txt"}],"ext":{"weichat":{"msgId":"8b5a3413-3be5-441e-9a09-0fa4e8ce1793","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"1c317424-ad7d-4ca2-b572-ec3f22e06a55","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","type":"SYSTEM"},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164296661,"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330605514195348","channel_id":35,"channel_name":"????"},"serviceSession":{"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","techChannelId":35,"visitorUser":{"tenantId":43,"userId":"64c1a71d-fa70-46db-9942-cd23424a758b","userType":"Visitor","userScope":"Tenant","nicename":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","roles":"visitor","bizId":"43","status":"Disable","scope":"Tenant"},"queueId":47,"robotId":0,"state":"Processing","chatGroupId":538,"messageSeqId":1,"agentUserId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","agentUserNiceName":"??","agentUserType":6,"startDateTime":"2018-12-30 18:04:56","createDatetime":"2018-12-30 18:04:56","lastChatMessage":{"msgId":"8b5a3413-3be5-441e-9a09-0fa4e8ce1793","tenantId":43,"chatGroupId":0,"messageType":"ChatMessage","contentType":"application/easemob-msg","body":{"bodies":[{"msg":"????????","type":"txt"}],"ext":{"weichat":{"msgId":"8b5a3413-3be5-441e-9a09-0fa4e8ce1793","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"1c317424-ad7d-4ca2-b572-ec3f22e06a55","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","type":"SYSTEM"},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164296661,"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330605514195348","channel_id":35,"channel_name":"????"},"chatGroupSeqId":0,"sessionServiceSeqId":0,"createDateTime":1546164296757,"timestamp":1546164296000,"createMicroTimestamp":1546164296757000},"techChannelType":"easemob","originType":"webim","expire":true},"menuId":null}
2018-12-30 18:04:56,779 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForToken start, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, bodys : SaasRobotMessageHandler.SaasUserData(username=robot1@easemob.com, password=111qqq,,,)
2018-12-30 18:04:56,788 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForToken end, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, bodys : http://robot.zking.com/v10/commons/integration/token, result : <200 OK,{"status":"OK","errorCode":null,"errorDescription":null,"entity":{"expires":1546769096786,"role":"admin","roleId":"9798feb6-f543-11e8-827a-005056b564f6","tenantId":9,"userId":"3c250007-0a49-4ab1-8dfa-150e1c1aa00c","status":"OK","token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyb2JvdDFAZWFzZW1vYi5jb20iLCJpc3MiOiJlYXNlbW9iLXJvYm90IiwidGVuYW50SWQiOjksImV4cCI6MTU0Njc2OTA5NiwiaWF0IjoxNTQ2MTY0Mjk2LCJ1c2VySWQiOiIzYzI1MDAwNy0wYTQ5LTRhYjEtOGRmYS0xNTBlMWMxYWEwMGMiLCJqdGkiOiJkNmE3MjMzNi1lZjkwLTQwYzItOWU4NS03NThjNmJjMjczN2MiLCJ1c2VybmFtZSI6InJvYm90MUBlYXNlbW9iLmNvbSJ9.QqXcSqs_5HLrz6bvv9xMUPuAEAVBMPugVpJzsJE6kAQ","username":"robot1@easemob.com"},"first":null,"last":null,"size":null,"number":null,"numberOfElements":null,"totalPages":null,"totalElements":null},{Server=[nginx], Date=[Sun, 30 Dec 2018 10:04:45 GMT], Content-Type=[application/json;charset=UTF-8], Transfer-Encoding=[chunked], Connection=[keep-alive], Vary=[Accept-Encoding], X-Application-Context=[RobotRest:31194]}>, time : 9ms
2018-12-30 18:04:56,788 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForAnswer start, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, url:AskRequest(userId=64c1a71d-fa70-46db-9942-cd23424a758b, tenantId=9, knowledgeId=null, question=????????, type=TEXT, strategyTransData=null, originType=WEBIM), bodys : {}
2018-12-30 18:04:56,996 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForAnswer end, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, url : http://robot.zking.com/v10/tenants/9/knowledge/robots/3f724eff-25f7-4d25-b445-b2a5b15fcea3/ask, bodys:AskRequest(userId=64c1a71d-fa70-46db-9942-cd23424a758b, tenantId=9, knowledgeId=null, question=????????, type=TEXT, strategyTransData=null, originType=WEBIM) result : <200 OK,{"status":"OK","errorCode":null,"errorDescription":null,"entity":{"msgId":"42390491-59c9-4959-9e10-aebc3cc55745","userId":"64c1a71d-fa70-46db-9942-cd23424a758b","tenantId":9,"question":"????????","tag":null,"answerType":"BEST_ANSWER","answerSource":"RULE","content":{"size":{"width":928,"height":547},"url":"54f470b9-f390-45b2-bca9-489fb935b286","filename":"???????.png","type":"img"},"multiTurnDialogueId":"","multiTurnDialogueStarted":false,"multiTurnDialogueFinished":false,"sessionId":"68ab9fb2-a3a9-4928-b10b-5f0e6dbf2388","satisfactionCommentInvitation":true,"resourceId":"129ad1dc-74a8-4718-82d9-ade7c35ed003","resourceType":"RULE"},"first":null,"last":null,"size":null,"number":null,"numberOfElements":null,"totalPages":null,"totalElements":null},{Server=[nginx], Date=[Sun, 30 Dec 2018 10:04:45 GMT], Content-Type=[application/json;charset=UTF-8], Transfer-Encoding=[chunked], Connection=[keep-alive], Vary=[Accept-Encoding], X-Application-Context=[RobotRest:31194]}>, time : 208ms
2018-12-30 18:04:56,996 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - tenantId 43, originType WEBIM ,robotdata RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=null, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={}), get repsonse AskResponse(msgId=42390491-59c9-4959-9e10-aebc3cc55745, userId=64c1a71d-fa70-46db-9942-cd23424a758b, tenantId=9, question=????????, tag=null, answerType=BEST_ANSWER, answerSource=RULE, content=ResponseImageMessageBody(size=ImageSize(width=928, height=547), url=54f470b9-f390-45b2-bca9-489fb935b286, filename=???????.png, secret=null, thumbSecret=null), dlgFinished=false, sessionId=68ab9fb2-a3a9-4928-b10b-5f0e6dbf2388, satisfactionCommentInvitation=true)
2018-12-30 18:04:56,996 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - getSaasForMediaApi start, tenantId : 9, mediaId : 54f470b9-f390-45b2-bca9-489fb935b286, url : http://robot.zking.com/v11/commons/tenants/9/material/medias/54f470b9-f390-45b2-bca9-489fb935b286
2018-12-30 18:04:57,001 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - getSaasForMediaApi end, , tenantId : 9, mediaId : 54f470b9-f390-45b2-bca9-489fb935b286, url : http://robot.zking.com/v11/commons/tenants/9/material/medias/54f470b9-f390-45b2-bca9-489fb935b286, time: 5
2018-12-30 18:04:57,007 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.c.KefuMediaFileClient - KefuMediaFileClient uploadFile start, tenantId : 43
2018-12-30 18:04:57,029 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.c.KefuMediaFileClient - KefuMediaFileClient uploadFile end,tenantId : 43,  prjectId : MediaFileResponse(uuid=92343ded-c3e3-4fc7-87aa-80433c04d9b45oSP5YGl6Zmp55CG6LWU6LWE5paZLnBuZw==, contentType=text/plain, contentLength=66455, url=/v1/Tenant/43/MediaFiles/92343ded-c3e3-4fc7-87aa-80433c04d9b45oSP5YGl6Zmp55CG6LWU6LWE5paZLnBuZw==, fileName=???????.png)
2018-12-30 18:04:57,030 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.service.SaasRobotService - saas robot service get robotData RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=null, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={}),robotIntegrationContext is RobotIntegrationContext(questionInfo=QuestionInfo(tenantId=43, sessionId=f5b5a7f4-c200-4e91-b13e-bdc528a5de70, askUserId=64c1a71d-fa70-46db-9942-cd23424a758b, robotId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, questionId=8b5a3413-3be5-441e-9a09-0fa4e8ce1793, question=????????, userLocation=null, userLocale=zh-CN, robotAppParam={"zabx":{"service_id":"119898"}}, strategyTransData={"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70"}, questionType=null), easemobMessage=EasemobMessage(bodies=[com.easemob.weichat.models.message.EasemobTxtMessageBody@7102115], ext={weichat={msgId=8b5a3413-3be5-441e-9a09-0fa4e8ce1793, originType=webim, visitor=null, agent=null, queueId=null, queueName=null, agentUsername=null, ctrlType=null, ctrlArgs=null, event=null, metadata=null, callcenter=null, language=zh-CN, marketing=null, service_session=null, html_safe_body=null, msg_id_for_ack=1c317424-ad7d-4ca2-b572-ec3f22e06a55, ack_for_msg_id=null, recall_flag=null, recall_msg_id=null, official_account={official_account_id=1787e4f3-5cd6-4b6b-9a28-741fbee05462, type=SYSTEM}, reserve_queue=null, match_flag=null}}, from=webim-visitor-YPHKB3EPCRK2XJRHC6EE, to=119898, toJid=easemob-demo#chatdemoui_119898@easemob.com, channelType=IM, timestamp=Sun Dec 30 18:04:56 CST 2018, msgId=552330605514195348, channelId=35, channelName=????, ignoreExistingCheck=null, tenantId=43, serviceSessionId=f5b5a7f4-c200-4e91-b13e-bdc528a5de70, visitorUserId=64c1a71d-fa70-46db-9942-cd23424a758b, originType=WEBIM), serviceSession=ServiceSession(tenantId=43, serviceSessionId=f5b5a7f4-c200-4e91-b13e-bdc528a5de70, techChannelId=35, visitorUser=VisitorUser(username=null, techChannelType=null, techChannelId=null, techChannelInfo=null, uri=null, chatGroupId=null, trueName=null, sex=0, qq=null, email=null, phone=null, companyName=null, description=null, weixin=null, createDateTime=null, lastUpdateDateTime=null, sendMessageCount=0), queueId=47, robotId=0, chatRoomId=null, state=Processing, chatGroupId=538, messageSeqId=1, agentUserId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, agentUserNiceName=??, agentUserType=6, startDateTime=Sun Dec 30 18:04:56 CST 2018, stopDateTime=null, createDatetime=Sun Dec 30 18:04:56 CST 2018, lastChatMessage=ChatMessage(msgId=8b5a3413-3be5-441e-9a09-0fa4e8ce1793, tenantId=43, chatGroupId=0, sessionServiceId=null, messageType=ChatMessage, fromUser=null, toUser=null, contentType=application/easemob-msg, body=EasemobMessage(bodies=[com.easemob.weichat.models.message.EasemobTxtMessageBody@7102115], ext={weichat={msgId=8b5a3413-3be5-441e-9a09-0fa4e8ce1793, originType=webim, visitor=null, agent=null, queueId=null, queueName=null, agentUsername=null, ctrlType=null, ctrlArgs=null, event=null, metadata=null, callcenter=null, language=zh-CN, marketing=null, service_session=null, html_safe_body=null, msg_id_for_ack=1c317424-ad7d-4ca2-b572-ec3f22e06a55, ack_for_msg_id=null, recall_flag=null, recall_msg_id=null, official_account={official_account_id=1787e4f3-5cd6-4b6b-9a28-741fbee05462, type=SYSTEM}, reserve_queue=null, match_flag=null}}, from=webim-visitor-YPHKB3EPCRK2XJRHC6EE, to=119898, toJid=easemob-demo#chatdemoui_119898@easemob.com, channelType=IM, timestamp=Sun Dec 30 18:04:56 CST 2018, msgId=552330605514195348, channelId=35, channelName=????, ignoreExistingCheck=null, tenantId=43, serviceSessionId=f5b5a7f4-c200-4e91-b13e-bdc528a5de70, visitorUserId=64c1a71d-fa70-46db-9942-cd23424a758b, originType=WEBIM), chatGroupSeqId=0, sessionServiceSeqId=0, createDateTime=2018-12-30 18:04:56.757, timestamp=1546164296000, createMicroTimestamp=1546164296757000), techChannelType=easemob, firstMessage=null, originType=WEBIM, expire=true), menuId=null) answer is RobotAnswer(enableSilence=false, answerType=null, type=1, content={"transferToKf":false,"content":{"mid":"92343ded-c3e3-4fc7-87aa-80433c04d9b45oSP5YGl6Zmp55CG6LWU6LWE5paZLnBuZw==","type":"image/png","name":"???????.png","objectMeta":{"width":928,"height":547}},"type":"img"})
2018-12-30 18:04:57,030 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 askRobotForAnswer success, robotId:7b721036-5b84-4805-b4e7-4832bb586269,robotIntegrationContext : {"questionInfo":{"tenantId":43,"sessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","askUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","robotId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","questionId":"8b5a3413-3be5-441e-9a09-0fa4e8ce1793","question":"????????","userLocation":null,"userLocale":"zh-CN","robotAppParam":{"zabx":{"service_id":"119898"}},"strategyTransData":"{\"tenantId\":43,\"serviceSessionId\":\"f5b5a7f4-c200-4e91-b13e-bdc528a5de70\"}","questionType":null},"easemobMessage":{"bodies":[{"msg":"????????","type":"txt"}],"ext":{"weichat":{"msgId":"8b5a3413-3be5-441e-9a09-0fa4e8ce1793","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"1c317424-ad7d-4ca2-b572-ec3f22e06a55","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","type":"SYSTEM"},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164296661,"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330605514195348","channel_id":35,"channel_name":"????"},"serviceSession":{"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","techChannelId":35,"visitorUser":{"tenantId":43,"userId":"64c1a71d-fa70-46db-9942-cd23424a758b","userType":"Visitor","userScope":"Tenant","nicename":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","roles":"visitor","bizId":"43","status":"Disable","scope":"Tenant"},"queueId":47,"robotId":0,"state":"Processing","chatGroupId":538,"messageSeqId":1,"agentUserId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","agentUserNiceName":"??","agentUserType":6,"startDateTime":"2018-12-30 18:04:56","createDatetime":"2018-12-30 18:04:56","lastChatMessage":{"msgId":"8b5a3413-3be5-441e-9a09-0fa4e8ce1793","tenantId":43,"chatGroupId":0,"messageType":"ChatMessage","contentType":"application/easemob-msg","body":{"bodies":[{"msg":"????????","type":"txt"}],"ext":{"weichat":{"msgId":"8b5a3413-3be5-441e-9a09-0fa4e8ce1793","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"1c317424-ad7d-4ca2-b572-ec3f22e06a55","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","type":"SYSTEM"},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164296661,"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330605514195348","channel_id":35,"channel_name":"????"},"chatGroupSeqId":0,"sessionServiceSeqId":0,"createDateTime":1546164296757,"timestamp":1546164296000,"createMicroTimestamp":1546164296757000},"techChannelType":"easemob","originType":"webim","expire":true},"menuId":null}, robotAnswer : {"enableSilence":false,"answerType":null,"type":1,"content":"{\"transferToKf\":false,\"content\":{\"mid\":\"92343ded-c3e3-4fc7-87aa-80433c04d9b45oSP5YGl6Zmp55CG6LWU6LWE5paZLnBuZw==\",\"type\":\"image/png\",\"name\":\"???????.png\",\"objectMeta\":{\"width\":928,\"height\":547}},\"type\":\"img\"}"}
2018-12-30 18:04:57,032 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:57,034 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:57,035 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:57,037 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:57,038 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId obtain request, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1
2018-12-30 18:04:57,040 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId success, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:57,059 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:57,062 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:04:57,063 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:04:57,065 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:10,873 INFO  [http-nio-8999-exec-4]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:10,875 INFO  [http-nio-8999-exec-4]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:10,876 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:10,877 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:11,031 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:11,033 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:11,034 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:11,036 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:21,092 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:21,094 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:21,096 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:21,097 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:21,100 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 askRobotForAnswer obtain request,robotId:7b721036-5b84-4805-b4e7-4832bb586269, robotIntegrationContext : {"questionInfo":{"tenantId":43,"sessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","askUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","robotId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","questionId":"a2290fe1-e9c9-439b-a861-f25d29a42cab","question":"????","userLocation":null,"userLocale":"zh-CN","robotAppParam":{"zabx":{"service_id":"119898"}},"strategyTransData":"{\"tenantId\":43,\"serviceSessionId\":\"f5b5a7f4-c200-4e91-b13e-bdc528a5de70\"}","questionType":null},"easemobMessage":{"bodies":[{"msg":"????","type":"txt"}],"ext":{"weichat":{"msgId":"a2290fe1-e9c9-439b-a861-f25d29a42cab","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"4195ba3a-f97c-4f65-9dcc-b119e2e417aa","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","name":"????????????","type":"SYSTEM","img":"//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300","schedule_info":{}},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164321053,"tenantId":43,"visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330710233383316","channel_id":35,"channel_name":"????"},"serviceSession":{"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","techChannelId":35,"visitorUser":{"tenantId":43,"userId":"64c1a71d-fa70-46db-9942-cd23424a758b","userType":"Visitor","userScope":"Tenant","nicename":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","roles":"visitor","bizId":"43","status":"Disable","scope":"Tenant"},"queueId":47,"robotId":0,"state":"Processing","chatGroupId":538,"messageSeqId":5,"agentUserId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","agentUserNiceName":"??","agentUserType":6,"startDateTime":"2018-12-30 18:04:56","createDatetime":"2018-12-30 18:04:56","lastChatMessage":{"msgId":"a2290fe1-e9c9-439b-a861-f25d29a42cab","tenantId":43,"chatGroupId":0,"messageType":"ChatMessage","contentType":"application/easemob-msg","body":{"bodies":[{"msg":"????","type":"txt"}],"ext":{"weichat":{"msgId":"a2290fe1-e9c9-439b-a861-f25d29a42cab","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"4195ba3a-f97c-4f65-9dcc-b119e2e417aa","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","name":"????????????","type":"SYSTEM","img":"//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300","schedule_info":{}},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164321053,"tenantId":43,"visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330710233383316","channel_id":35,"channel_name":"????"},"chatGroupSeqId":0,"sessionServiceSeqId":0,"createDateTime":1546164321077,"timestamp":1546164321000,"createMicroTimestamp":1546164321077000},"techChannelType":"easemob","originType":"webim","expire":true},"menuId":null}
2018-12-30 18:05:21,102 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForToken start, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, bodys : SaasRobotMessageHandler.SaasUserData(username=robot1@easemob.com, password=111qqq,,,)
2018-12-30 18:05:21,108 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForToken end, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, bodys : http://robot.zking.com/v10/commons/integration/token, result : <200 OK,{"status":"OK","errorCode":null,"errorDescription":null,"entity":{"expires":1546769121107,"role":"admin","roleId":"9798feb6-f543-11e8-827a-005056b564f6","tenantId":9,"userId":"3c250007-0a49-4ab1-8dfa-150e1c1aa00c","status":"OK","token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyb2JvdDFAZWFzZW1vYi5jb20iLCJpc3MiOiJlYXNlbW9iLXJvYm90IiwidGVuYW50SWQiOjksImV4cCI6MTU0Njc2OTEyMSwiaWF0IjoxNTQ2MTY0MzIxLCJ1c2VySWQiOiIzYzI1MDAwNy0wYTQ5LTRhYjEtOGRmYS0xNTBlMWMxYWEwMGMiLCJqdGkiOiI0MDdmZGQwYy03MWIyLTRmODAtYjhlZi1lYWZiMDZkNWI4YTQiLCJ1c2VybmFtZSI6InJvYm90MUBlYXNlbW9iLmNvbSJ9.UKbyKL-I5wh0mEJaQGLtxSOdqC431vUva3OLJOuLrRY","username":"robot1@easemob.com"},"first":null,"last":null,"size":null,"number":null,"numberOfElements":null,"totalPages":null,"totalElements":null},{Server=[nginx], Date=[Sun, 30 Dec 2018 10:05:09 GMT], Content-Type=[application/json;charset=UTF-8], Transfer-Encoding=[chunked], Connection=[keep-alive], Vary=[Accept-Encoding], X-Application-Context=[RobotRest:31194]}>, time : 6ms
2018-12-30 18:05:21,108 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForAnswer start, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, url:AskRequest(userId=64c1a71d-fa70-46db-9942-cd23424a758b, tenantId=9, knowledgeId=null, question=????, type=TEXT, strategyTransData=null, originType=WEBIM), bodys : {}
2018-12-30 18:05:21,347 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForAnswer end, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, url : http://robot.zking.com/v10/tenants/9/knowledge/robots/3f724eff-25f7-4d25-b445-b2a5b15fcea3/ask, bodys:AskRequest(userId=64c1a71d-fa70-46db-9942-cd23424a758b, tenantId=9, knowledgeId=null, question=????, type=TEXT, strategyTransData=null, originType=WEBIM) result : <200 OK,{"status":"OK","errorCode":null,"errorDescription":null,"entity":{"msgId":"02d462eb-9ce2-47b1-9f30-de36b4c08af2","userId":"64c1a71d-fa70-46db-9942-cd23424a758b","tenantId":9,"question":"????","tag":null,"answerType":"BEST_ANSWER","answerSource":"INTENTION","content":{"msg":"?????????????????????????????????????????????????????????????????","type":"txt"},"multiTurnDialogueId":"","multiTurnDialogueStarted":false,"multiTurnDialogueFinished":false,"sessionId":"68ab9fb2-a3a9-4928-b10b-5f0e6dbf2388","satisfactionCommentInvitation":true,"resourceId":null,"resourceType":null},"first":null,"last":null,"size":null,"number":null,"numberOfElements":null,"totalPages":null,"totalElements":null},{Server=[nginx], Date=[Sun, 30 Dec 2018 10:05:09 GMT], Content-Type=[application/json;charset=UTF-8], Transfer-Encoding=[chunked], Connection=[keep-alive], Vary=[Accept-Encoding], X-Application-Context=[RobotRest:31194]}>, time : 239ms
2018-12-30 18:05:21,347 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.s.h.SaasRobotMessageHandler - tenantId 43, originType WEBIM ,robotdata RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=null, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={}), get repsonse AskResponse(msgId=02d462eb-9ce2-47b1-9f30-de36b4c08af2, userId=64c1a71d-fa70-46db-9942-cd23424a758b, tenantId=9, question=????, tag=null, answerType=BEST_ANSWER, answerSource=INTENTION, content=ResponseTxtMessageBody(msg=?????????????????????????????????????????????????????????????????), dlgFinished=false, sessionId=68ab9fb2-a3a9-4928-b10b-5f0e6dbf2388, satisfactionCommentInvitation=true)
2018-12-30 18:05:21,347 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.s.service.SaasRobotService - saas robot service get robotData RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=null, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={}),robotIntegrationContext is RobotIntegrationContext(questionInfo=QuestionInfo(tenantId=43, sessionId=f5b5a7f4-c200-4e91-b13e-bdc528a5de70, askUserId=64c1a71d-fa70-46db-9942-cd23424a758b, robotId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, questionId=a2290fe1-e9c9-439b-a861-f25d29a42cab, question=????, userLocation=null, userLocale=zh-CN, robotAppParam={"zabx":{"service_id":"119898"}}, strategyTransData={"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70"}, questionType=null), easemobMessage=EasemobMessage(bodies=[com.easemob.weichat.models.message.EasemobTxtMessageBody@4373bd93], ext={weichat={msgId=a2290fe1-e9c9-439b-a861-f25d29a42cab, originType=webim, visitor=null, agent=null, queueId=null, queueName=null, agentUsername=null, ctrlType=null, ctrlArgs=null, event=null, metadata=null, callcenter=null, language=zh-CN, marketing=null, service_session=null, html_safe_body=null, msg_id_for_ack=4195ba3a-f97c-4f65-9dcc-b119e2e417aa, ack_for_msg_id=null, recall_flag=null, recall_msg_id=null, official_account={official_account_id=1787e4f3-5cd6-4b6b-9a28-741fbee05462, name=????????????, type=SYSTEM, img=//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300, schedule_info={}}, reserve_queue=null, match_flag=null}}, from=webim-visitor-YPHKB3EPCRK2XJRHC6EE, to=119898, toJid=easemob-demo#chatdemoui_119898@easemob.com, channelType=IM, timestamp=Sun Dec 30 18:05:21 CST 2018, msgId=552330710233383316, channelId=35, channelName=????, ignoreExistingCheck=null, tenantId=43, serviceSessionId=null, visitorUserId=64c1a71d-fa70-46db-9942-cd23424a758b, originType=WEBIM), serviceSession=ServiceSession(tenantId=43, serviceSessionId=f5b5a7f4-c200-4e91-b13e-bdc528a5de70, techChannelId=35, visitorUser=VisitorUser(username=null, techChannelType=null, techChannelId=null, techChannelInfo=null, uri=null, chatGroupId=null, trueName=null, sex=0, qq=null, email=null, phone=null, companyName=null, description=null, weixin=null, createDateTime=null, lastUpdateDateTime=null, sendMessageCount=0), queueId=47, robotId=0, chatRoomId=null, state=Processing, chatGroupId=538, messageSeqId=5, agentUserId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, agentUserNiceName=??, agentUserType=6, startDateTime=Sun Dec 30 18:04:56 CST 2018, stopDateTime=null, createDatetime=Sun Dec 30 18:04:56 CST 2018, lastChatMessage=ChatMessage(msgId=a2290fe1-e9c9-439b-a861-f25d29a42cab, tenantId=43, chatGroupId=0, sessionServiceId=null, messageType=ChatMessage, fromUser=null, toUser=null, contentType=application/easemob-msg, body=EasemobMessage(bodies=[com.easemob.weichat.models.message.EasemobTxtMessageBody@4373bd93], ext={weichat={msgId=a2290fe1-e9c9-439b-a861-f25d29a42cab, originType=webim, visitor=null, agent=null, queueId=null, queueName=null, agentUsername=null, ctrlType=null, ctrlArgs=null, event=null, metadata=null, callcenter=null, language=zh-CN, marketing=null, service_session=null, html_safe_body=null, msg_id_for_ack=4195ba3a-f97c-4f65-9dcc-b119e2e417aa, ack_for_msg_id=null, recall_flag=null, recall_msg_id=null, official_account={official_account_id=1787e4f3-5cd6-4b6b-9a28-741fbee05462, name=????????????, type=SYSTEM, img=//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300, schedule_info={}}, reserve_queue=null, match_flag=null}}, from=webim-visitor-YPHKB3EPCRK2XJRHC6EE, to=119898, toJid=easemob-demo#chatdemoui_119898@easemob.com, channelType=IM, timestamp=Sun Dec 30 18:05:21 CST 2018, msgId=552330710233383316, channelId=35, channelName=????, ignoreExistingCheck=null, tenantId=43, serviceSessionId=null, visitorUserId=64c1a71d-fa70-46db-9942-cd23424a758b, originType=WEBIM), chatGroupSeqId=0, sessionServiceSeqId=0, createDateTime=2018-12-30 18:05:21.077, timestamp=1546164321000, createMicroTimestamp=1546164321077000), techChannelType=easemob, firstMessage=null, originType=WEBIM, expire=true), menuId=null) answer is RobotAnswer(enableSilence=false, answerType=null, type=1, content={"transferToKf":false,"content":"?????????????????????????????????????????????????????????????????"})
2018-12-30 18:05:21,347 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 askRobotForAnswer success, robotId:7b721036-5b84-4805-b4e7-4832bb586269,robotIntegrationContext : {"questionInfo":{"tenantId":43,"sessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","askUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","robotId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","questionId":"a2290fe1-e9c9-439b-a861-f25d29a42cab","question":"????","userLocation":null,"userLocale":"zh-CN","robotAppParam":{"zabx":{"service_id":"119898"}},"strategyTransData":"{\"tenantId\":43,\"serviceSessionId\":\"f5b5a7f4-c200-4e91-b13e-bdc528a5de70\"}","questionType":null},"easemobMessage":{"bodies":[{"msg":"????","type":"txt"}],"ext":{"weichat":{"msgId":"a2290fe1-e9c9-439b-a861-f25d29a42cab","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"4195ba3a-f97c-4f65-9dcc-b119e2e417aa","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","name":"????????????","type":"SYSTEM","img":"//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300","schedule_info":{}},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164321053,"tenantId":43,"visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330710233383316","channel_id":35,"channel_name":"????"},"serviceSession":{"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","techChannelId":35,"visitorUser":{"tenantId":43,"userId":"64c1a71d-fa70-46db-9942-cd23424a758b","userType":"Visitor","userScope":"Tenant","nicename":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","roles":"visitor","bizId":"43","status":"Disable","scope":"Tenant"},"queueId":47,"robotId":0,"state":"Processing","chatGroupId":538,"messageSeqId":5,"agentUserId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","agentUserNiceName":"??","agentUserType":6,"startDateTime":"2018-12-30 18:04:56","createDatetime":"2018-12-30 18:04:56","lastChatMessage":{"msgId":"a2290fe1-e9c9-439b-a861-f25d29a42cab","tenantId":43,"chatGroupId":0,"messageType":"ChatMessage","contentType":"application/easemob-msg","body":{"bodies":[{"msg":"????","type":"txt"}],"ext":{"weichat":{"msgId":"a2290fe1-e9c9-439b-a861-f25d29a42cab","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"4195ba3a-f97c-4f65-9dcc-b119e2e417aa","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","name":"????????????","type":"SYSTEM","img":"//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300","schedule_info":{}},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164321053,"tenantId":43,"visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330710233383316","channel_id":35,"channel_name":"????"},"chatGroupSeqId":0,"sessionServiceSeqId":0,"createDateTime":1546164321077,"timestamp":1546164321000,"createMicroTimestamp":1546164321077000},"techChannelType":"easemob","originType":"webim","expire":true},"menuId":null}, robotAnswer : {"enableSilence":false,"answerType":null,"type":1,"content":"{\"transferToKf\":false,\"content\":\"?????????????????????????????????????????????????????????????????\"}"}
2018-12-30 18:05:21,349 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:21,351 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:21,352 INFO  [http-nio-8999-exec-4]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:21,354 INFO  [http-nio-8999-exec-4]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:21,355 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId obtain request, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1
2018-12-30 18:05:21,357 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId success, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:21,376 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:21,378 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:21,379 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:21,381 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:30,023 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:30,025 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:30,026 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:30,028 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:30,190 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:30,191 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:30,193 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:30,194 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:50,583 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:50,586 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:50,587 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:50,589 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:50,591 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 askRobotForAnswer obtain request,robotId:7b721036-5b84-4805-b4e7-4832bb586269, robotIntegrationContext : {"questionInfo":{"tenantId":43,"sessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","askUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","robotId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","questionId":"70ad3b0f-9ec8-4154-9371-32ad4035c02f","question":"?????","userLocation":null,"userLocale":"zh-CN","robotAppParam":{"zabx":{"service_id":"119898"}},"strategyTransData":"{\"tenantId\":43,\"serviceSessionId\":\"f5b5a7f4-c200-4e91-b13e-bdc528a5de70\"}","questionType":null},"easemobMessage":{"bodies":[{"msg":"?????","type":"txt"}],"ext":{"weichat":{"msgId":"70ad3b0f-9ec8-4154-9371-32ad4035c02f","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"11b42ab7-8c27-423c-bc0f-873b91b042e0","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","name":"????????????","type":"SYSTEM","img":"//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300","schedule_info":{}},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164350544,"tenantId":43,"visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330814356980116","channel_id":35,"channel_name":"????"},"serviceSession":{"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","techChannelId":35,"visitorUser":{"tenantId":43,"userId":"64c1a71d-fa70-46db-9942-cd23424a758b","userType":"Visitor","userScope":"Tenant","nicename":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","roles":"visitor","bizId":"43","status":"Disable","scope":"Tenant"},"queueId":47,"robotId":0,"state":"Processing","chatGroupId":538,"messageSeqId":7,"agentUserId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","agentUserNiceName":"??","agentUserType":6,"startDateTime":"2018-12-30 18:04:56","createDatetime":"2018-12-30 18:04:56","lastChatMessage":{"msgId":"70ad3b0f-9ec8-4154-9371-32ad4035c02f","tenantId":43,"chatGroupId":0,"messageType":"ChatMessage","contentType":"application/easemob-msg","body":{"bodies":[{"msg":"?????","type":"txt"}],"ext":{"weichat":{"msgId":"70ad3b0f-9ec8-4154-9371-32ad4035c02f","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"11b42ab7-8c27-423c-bc0f-873b91b042e0","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","name":"????????????","type":"SYSTEM","img":"//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300","schedule_info":{}},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164350544,"tenantId":43,"visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330814356980116","channel_id":35,"channel_name":"????"},"chatGroupSeqId":0,"sessionServiceSeqId":0,"createDateTime":1546164350569,"timestamp":1546164350000,"createMicroTimestamp":1546164350569000},"techChannelType":"easemob","originType":"webim","expire":true},"menuId":null}
2018-12-30 18:05:50,593 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForToken start, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, bodys : SaasRobotMessageHandler.SaasUserData(username=robot1@easemob.com, password=111qqq,,,)
2018-12-30 18:05:50,599 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForToken end, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, bodys : http://robot.zking.com/v10/commons/integration/token, result : <200 OK,{"status":"OK","errorCode":null,"errorDescription":null,"entity":{"expires":1546769150598,"role":"admin","roleId":"9798feb6-f543-11e8-827a-005056b564f6","tenantId":9,"userId":"3c250007-0a49-4ab1-8dfa-150e1c1aa00c","status":"OK","token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyb2JvdDFAZWFzZW1vYi5jb20iLCJpc3MiOiJlYXNlbW9iLXJvYm90IiwidGVuYW50SWQiOjksImV4cCI6MTU0Njc2OTE1MCwiaWF0IjoxNTQ2MTY0MzUwLCJ1c2VySWQiOiIzYzI1MDAwNy0wYTQ5LTRhYjEtOGRmYS0xNTBlMWMxYWEwMGMiLCJqdGkiOiIwMWQyYjNhZS00OGMxLTRmZjYtOGQ5Ny01NTU1OTg5ZDJhODUiLCJ1c2VybmFtZSI6InJvYm90MUBlYXNlbW9iLmNvbSJ9.36dMXeoRmZU1W3BBn0gm2l3yLdEqTzTc_gR8gQeUrGI","username":"robot1@easemob.com"},"first":null,"last":null,"size":null,"number":null,"numberOfElements":null,"totalPages":null,"totalElements":null},{Server=[nginx], Date=[Sun, 30 Dec 2018 10:05:39 GMT], Content-Type=[application/json;charset=UTF-8], Transfer-Encoding=[chunked], Connection=[keep-alive], Vary=[Accept-Encoding], X-Application-Context=[RobotRest:31194]}>, time : 6ms
2018-12-30 18:05:50,599 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForAnswer start, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, url:AskRequest(userId=64c1a71d-fa70-46db-9942-cd23424a758b, tenantId=9, knowledgeId=null, question=?????, type=TEXT, strategyTransData=null, originType=WEBIM), bodys : {}
2018-12-30 18:05:50,747 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForAnswer end, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, url : http://robot.zking.com/v10/tenants/9/knowledge/robots/3f724eff-25f7-4d25-b445-b2a5b15fcea3/ask, bodys:AskRequest(userId=64c1a71d-fa70-46db-9942-cd23424a758b, tenantId=9, knowledgeId=null, question=?????, type=TEXT, strategyTransData=null, originType=WEBIM) result : <200 OK,{"status":"OK","errorCode":null,"errorDescription":null,"entity":{"msgId":"84455f5f-d3c7-4de9-b352-5bb6c3c47adc","userId":"64c1a71d-fa70-46db-9942-cd23424a758b","tenantId":9,"question":"?????","tag":null,"answerType":"DEFAULT","answerSource":"DEFAULT","content":{"transferToHumanId":"TransferToHuman-1a1a9e6c-9732-452b-bdeb-51c4b1a79b6c","suggestionTransferToHumanLabel":"???","msg":"???????????????????????????????????????????","type":"txt"},"multiTurnDialogueId":"","multiTurnDialogueStarted":false,"multiTurnDialogueFinished":false,"sessionId":"68ab9fb2-a3a9-4928-b10b-5f0e6dbf2388","satisfactionCommentInvitation":false,"resourceId":null,"resourceType":null},"first":null,"last":null,"size":null,"number":null,"numberOfElements":null,"totalPages":null,"totalElements":null},{Server=[nginx], Date=[Sun, 30 Dec 2018 10:05:39 GMT], Content-Type=[application/json;charset=UTF-8], Transfer-Encoding=[chunked], Connection=[keep-alive], Vary=[Accept-Encoding], X-Application-Context=[RobotRest:31194]}>, time : 148ms
2018-12-30 18:05:50,748 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.s.h.SaasRobotMessageHandler - tenantId 43, originType WEBIM ,robotdata RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=null, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={}), get repsonse AskResponse(msgId=84455f5f-d3c7-4de9-b352-5bb6c3c47adc, userId=64c1a71d-fa70-46db-9942-cd23424a758b, tenantId=9, question=?????, tag=null, answerType=DEFAULT, answerSource=DEFAULT, content=ResponseTxtMessageBody(msg=???????????????????????????????????????????), dlgFinished=false, sessionId=68ab9fb2-a3a9-4928-b10b-5f0e6dbf2388, satisfactionCommentInvitation=false)
2018-12-30 18:05:50,748 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.s.service.SaasRobotService - saas robot service get robotData RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=null, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={}),robotIntegrationContext is RobotIntegrationContext(questionInfo=QuestionInfo(tenantId=43, sessionId=f5b5a7f4-c200-4e91-b13e-bdc528a5de70, askUserId=64c1a71d-fa70-46db-9942-cd23424a758b, robotId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, questionId=70ad3b0f-9ec8-4154-9371-32ad4035c02f, question=?????, userLocation=null, userLocale=zh-CN, robotAppParam={"zabx":{"service_id":"119898"}}, strategyTransData={"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70"}, questionType=null), easemobMessage=EasemobMessage(bodies=[com.easemob.weichat.models.message.EasemobTxtMessageBody@8cdbfd88], ext={weichat={msgId=70ad3b0f-9ec8-4154-9371-32ad4035c02f, originType=webim, visitor=null, agent=null, queueId=null, queueName=null, agentUsername=null, ctrlType=null, ctrlArgs=null, event=null, metadata=null, callcenter=null, language=zh-CN, marketing=null, service_session=null, html_safe_body=null, msg_id_for_ack=11b42ab7-8c27-423c-bc0f-873b91b042e0, ack_for_msg_id=null, recall_flag=null, recall_msg_id=null, official_account={official_account_id=1787e4f3-5cd6-4b6b-9a28-741fbee05462, name=????????????, type=SYSTEM, img=//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300, schedule_info={}}, reserve_queue=null, match_flag=null}}, from=webim-visitor-YPHKB3EPCRK2XJRHC6EE, to=119898, toJid=easemob-demo#chatdemoui_119898@easemob.com, channelType=IM, timestamp=Sun Dec 30 18:05:50 CST 2018, msgId=552330814356980116, channelId=35, channelName=????, ignoreExistingCheck=null, tenantId=43, serviceSessionId=null, visitorUserId=64c1a71d-fa70-46db-9942-cd23424a758b, originType=WEBIM), serviceSession=ServiceSession(tenantId=43, serviceSessionId=f5b5a7f4-c200-4e91-b13e-bdc528a5de70, techChannelId=35, visitorUser=VisitorUser(username=null, techChannelType=null, techChannelId=null, techChannelInfo=null, uri=null, chatGroupId=null, trueName=null, sex=0, qq=null, email=null, phone=null, companyName=null, description=null, weixin=null, createDateTime=null, lastUpdateDateTime=null, sendMessageCount=0), queueId=47, robotId=0, chatRoomId=null, state=Processing, chatGroupId=538, messageSeqId=7, agentUserId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, agentUserNiceName=??, agentUserType=6, startDateTime=Sun Dec 30 18:04:56 CST 2018, stopDateTime=null, createDatetime=Sun Dec 30 18:04:56 CST 2018, lastChatMessage=ChatMessage(msgId=70ad3b0f-9ec8-4154-9371-32ad4035c02f, tenantId=43, chatGroupId=0, sessionServiceId=null, messageType=ChatMessage, fromUser=null, toUser=null, contentType=application/easemob-msg, body=EasemobMessage(bodies=[com.easemob.weichat.models.message.EasemobTxtMessageBody@8cdbfd88], ext={weichat={msgId=70ad3b0f-9ec8-4154-9371-32ad4035c02f, originType=webim, visitor=null, agent=null, queueId=null, queueName=null, agentUsername=null, ctrlType=null, ctrlArgs=null, event=null, metadata=null, callcenter=null, language=zh-CN, marketing=null, service_session=null, html_safe_body=null, msg_id_for_ack=11b42ab7-8c27-423c-bc0f-873b91b042e0, ack_for_msg_id=null, recall_flag=null, recall_msg_id=null, official_account={official_account_id=1787e4f3-5cd6-4b6b-9a28-741fbee05462, name=????????????, type=SYSTEM, img=//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300, schedule_info={}}, reserve_queue=null, match_flag=null}}, from=webim-visitor-YPHKB3EPCRK2XJRHC6EE, to=119898, toJid=easemob-demo#chatdemoui_119898@easemob.com, channelType=IM, timestamp=Sun Dec 30 18:05:50 CST 2018, msgId=552330814356980116, channelId=35, channelName=????, ignoreExistingCheck=null, tenantId=43, serviceSessionId=null, visitorUserId=64c1a71d-fa70-46db-9942-cd23424a758b, originType=WEBIM), chatGroupSeqId=0, sessionServiceSeqId=0, createDateTime=2018-12-30 18:05:50.569, timestamp=1546164350000, createMicroTimestamp=1546164350569000), techChannelType=easemob, firstMessage=null, originType=WEBIM, expire=true), menuId=null) answer is RobotAnswer(enableSilence=false, answerType=null, type=1, content={"transferToKf":true,"content":"???????????????????????????????????????????"})
2018-12-30 18:05:50,748 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 askRobotForAnswer success, robotId:7b721036-5b84-4805-b4e7-4832bb586269,robotIntegrationContext : {"questionInfo":{"tenantId":43,"sessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","askUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","robotId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","questionId":"70ad3b0f-9ec8-4154-9371-32ad4035c02f","question":"?????","userLocation":null,"userLocale":"zh-CN","robotAppParam":{"zabx":{"service_id":"119898"}},"strategyTransData":"{\"tenantId\":43,\"serviceSessionId\":\"f5b5a7f4-c200-4e91-b13e-bdc528a5de70\"}","questionType":null},"easemobMessage":{"bodies":[{"msg":"?????","type":"txt"}],"ext":{"weichat":{"msgId":"70ad3b0f-9ec8-4154-9371-32ad4035c02f","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"11b42ab7-8c27-423c-bc0f-873b91b042e0","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","name":"????????????","type":"SYSTEM","img":"//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300","schedule_info":{}},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164350544,"tenantId":43,"visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330814356980116","channel_id":35,"channel_name":"????"},"serviceSession":{"tenantId":43,"serviceSessionId":"f5b5a7f4-c200-4e91-b13e-bdc528a5de70","techChannelId":35,"visitorUser":{"tenantId":43,"userId":"64c1a71d-fa70-46db-9942-cd23424a758b","userType":"Visitor","userScope":"Tenant","nicename":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","roles":"visitor","bizId":"43","status":"Disable","scope":"Tenant"},"queueId":47,"robotId":0,"state":"Processing","chatGroupId":538,"messageSeqId":7,"agentUserId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","agentUserNiceName":"??","agentUserType":6,"startDateTime":"2018-12-30 18:04:56","createDatetime":"2018-12-30 18:04:56","lastChatMessage":{"msgId":"70ad3b0f-9ec8-4154-9371-32ad4035c02f","tenantId":43,"chatGroupId":0,"messageType":"ChatMessage","contentType":"application/easemob-msg","body":{"bodies":[{"msg":"?????","type":"txt"}],"ext":{"weichat":{"msgId":"70ad3b0f-9ec8-4154-9371-32ad4035c02f","originType":"webim","visitor":null,"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":"zh-CN","marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":"11b42ab7-8c27-423c-bc0f-873b91b042e0","ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","name":"????????????","type":"SYSTEM","img":"//kefurobot.zking.com/v1/tenants/43/mediafiles/ee37eb6f-c65d-4c22-8385-627a6c21678eMzMucG5n/cutout?arg=0_13_571_571_300_300","schedule_info":{}},"reserve_queue":null,"match_flag":null}},"from":"webim-visitor-YPHKB3EPCRK2XJRHC6EE","to":"119898","channelType":"easemob","timestamp":1546164350544,"tenantId":43,"visitorUserId":"64c1a71d-fa70-46db-9942-cd23424a758b","originType":"webim","to_jid":"easemob-demo#chatdemoui_119898@easemob.com","msg_id":"552330814356980116","channel_id":35,"channel_name":"????"},"chatGroupSeqId":0,"sessionServiceSeqId":0,"createDateTime":1546164350569,"timestamp":1546164350000,"createMicroTimestamp":1546164350569000},"techChannelType":"easemob","originType":"webim","expire":true},"menuId":null}, robotAnswer : {"enableSilence":false,"answerType":null,"type":1,"content":"{\"transferToKf\":true,\"content\":\"???????????????????????????????????????????\"}"}
2018-12-30 18:05:50,750 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:50,751 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:50,752 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:50,754 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:50,755 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId obtain request, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1
2018-12-30 18:05:50,757 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId success, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:50,782 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:50,783 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:05:50,784 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:05:50,786 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:08:50,795 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:08:50,797 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:08:50,799 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:08:50,801 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:11:36,132 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:11:36,133 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:11:36,135 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:11:36,136 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:11:36,170 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:11:36,172 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:11:36,174 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:11:36,175 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:11:36,182 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 askRobotForAnswer obtain request,robotId:7b721036-5b84-4805-b4e7-4832bb586269, robotIntegrationContext : {"questionInfo":{"tenantId":43,"sessionId":"cc4d7ff3-45e5-4f57-a268-fda98cd197b4","askUserId":"90599da3-711a-4f4e-992e-7130e5bf3c18","robotId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","questionId":"b18b8529-48de-4e47-8c0f-27ba343afd6b","question":"13933289056","userLocation":null,"userLocale":null,"robotAppParam":{"zabx":{"service_id":"gh_d23765661100"}},"strategyTransData":"{\"tenantId\":43,\"serviceSessionId\":\"cc4d7ff3-45e5-4f57-a268-fda98cd197b4\"}","questionType":null},"easemobMessage":{"bodies":[{"msg":"13933289056","type":"txt"}],"ext":{"weichat":{"msgId":"b18b8529-48de-4e47-8c0f-27ba343afd6b","originType":null,"visitor":{"source":null,"openid":null,"mp":null,"userNickname":"????:A??","trueName":null,"sex":null,"qq":null,"email":null,"phone":null,"companyName":null,"description":null,"weixin":null,"tags":null,"callback_user":"ouNrhjpghRxwkZi2A84BXmIB9hyE","gr_user_id":null},"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":null,"marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":null,"ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","type":"SYSTEM"},"reserve_queue":null,"match_flag":null}},"from":"ouNrhjpghRxwkZi2A84BXmIB9hyE","to":"gh_d23765661100","channelType":"wechat_oauth2","tenantId":43,"serviceSessionId":"cc4d7ff3-45e5-4f57-a268-fda98cd197b4","visitorUserId":"90599da3-711a-4f4e-992e-7130e5bf3c18","originType":"weixin","channel_id":3,"channel_name":"????"},"serviceSession":{"tenantId":43,"serviceSessionId":"cc4d7ff3-45e5-4f57-a268-fda98cd197b4","techChannelId":3,"visitorUser":{"tenantId":43,"userId":"90599da3-711a-4f4e-992e-7130e5bf3c18","userType":"Visitor","userScope":"Tenant","nicename":"????:A??","roles":"visitor","bizId":"43","status":"Disable","scope":"Tenant"},"queueId":47,"robotId":0,"state":"Processing","chatGroupId":539,"messageSeqId":1,"agentUserId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","agentUserNiceName":"??","agentUserType":6,"startDateTime":"2018-12-30 18:11:36","createDatetime":"2018-12-30 18:11:36","lastChatMessage":{"msgId":"b18b8529-48de-4e47-8c0f-27ba343afd6b","tenantId":43,"chatGroupId":0,"messageType":"ChatMessage","contentType":"application/easemob-msg","body":{"bodies":[{"msg":"13933289056","type":"txt"}],"ext":{"weichat":{"msgId":"b18b8529-48de-4e47-8c0f-27ba343afd6b","originType":null,"visitor":{"source":null,"openid":null,"mp":null,"userNickname":"????:A??","trueName":null,"sex":null,"qq":null,"email":null,"phone":null,"companyName":null,"description":null,"weixin":null,"tags":null,"callback_user":"ouNrhjpghRxwkZi2A84BXmIB9hyE","gr_user_id":null},"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":null,"marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":null,"ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","type":"SYSTEM"},"reserve_queue":null,"match_flag":null}},"from":"ouNrhjpghRxwkZi2A84BXmIB9hyE","to":"gh_d23765661100","channelType":"wechat_oauth2","tenantId":43,"serviceSessionId":"cc4d7ff3-45e5-4f57-a268-fda98cd197b4","visitorUserId":"90599da3-711a-4f4e-992e-7130e5bf3c18","originType":"weixin","channel_id":3,"channel_name":"????"},"chatGroupSeqId":0,"sessionServiceSeqId":0,"createDateTime":1546164696161,"timestamp":1546164696000,"createMicroTimestamp":1546164696161000},"techChannelType":"wechat_oauth2","originType":"weixin","expire":true},"menuId":null}
2018-12-30 18:11:36,184 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForToken start, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, bodys : SaasRobotMessageHandler.SaasUserData(username=robot1@easemob.com, password=111qqq,,,)
2018-12-30 18:11:36,193 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForToken end, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, bodys : http://robot.zking.com/v10/commons/integration/token, result : <200 OK,{"status":"OK","errorCode":null,"errorDescription":null,"entity":{"expires":1546769496191,"role":"admin","roleId":"9798feb6-f543-11e8-827a-005056b564f6","tenantId":9,"userId":"3c250007-0a49-4ab1-8dfa-150e1c1aa00c","status":"OK","token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyb2JvdDFAZWFzZW1vYi5jb20iLCJpc3MiOiJlYXNlbW9iLXJvYm90IiwidGVuYW50SWQiOjksImV4cCI6MTU0Njc2OTQ5NiwiaWF0IjoxNTQ2MTY0Njk2LCJ1c2VySWQiOiIzYzI1MDAwNy0wYTQ5LTRhYjEtOGRmYS0xNTBlMWMxYWEwMGMiLCJqdGkiOiIxZmNlYTI3OC0zODdjLTRkMmMtODcwYi1lYzM1Y2U5MGQxMWMiLCJ1c2VybmFtZSI6InJvYm90MUBlYXNlbW9iLmNvbSJ9._EOv-pT7HmZpj9kTE8xGtsx_iYvCQGr9FArKZggvrpk","username":"robot1@easemob.com"},"first":null,"last":null,"size":null,"number":null,"numberOfElements":null,"totalPages":null,"totalElements":null},{Server=[nginx], Date=[Sun, 30 Dec 2018 10:11:24 GMT], Content-Type=[application/json;charset=UTF-8], Transfer-Encoding=[chunked], Connection=[keep-alive], Vary=[Accept-Encoding], X-Application-Context=[RobotRest:31194]}>, time : 9ms
2018-12-30 18:11:36,193 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForAnswer start, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, url:AskRequest(userId=90599da3-711a-4f4e-992e-7130e5bf3c18, tenantId=9, knowledgeId=null, question=13933289056, type=TEXT, strategyTransData=null, originType=WEIXIN), bodys : {}
2018-12-30 18:11:36,353 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - postSaasForAnswer end, tenantId : 43, robotId : 7b721036-5b84-4805-b4e7-4832bb586269, url : http://robot.zking.com/v10/tenants/9/knowledge/robots/3f724eff-25f7-4d25-b445-b2a5b15fcea3/ask, bodys:AskRequest(userId=90599da3-711a-4f4e-992e-7130e5bf3c18, tenantId=9, knowledgeId=null, question=13933289056, type=TEXT, strategyTransData=null, originType=WEIXIN) result : <200 OK,{"status":"OK","errorCode":null,"errorDescription":null,"entity":{"msgId":"5669013c-c217-4c24-bec2-3603801d85d4","userId":"90599da3-711a-4f4e-992e-7130e5bf3c18","tenantId":9,"question":"13933289056","tag":null,"answerType":"DEFAULT","answerSource":"DEFAULT","content":{"transferToHumanId":"TransferToHuman-d6120855-cde5-4e17-a23d-16e7259b4152","suggestionTransferToHumanLabel":"???","msg":"???????????????????????????????????????????","type":"txt"},"multiTurnDialogueId":"","multiTurnDialogueStarted":false,"multiTurnDialogueFinished":false,"sessionId":"bdf543a1-2e35-40af-91f4-8bcccd40af5c","satisfactionCommentInvitation":false,"resourceId":null,"resourceType":null},"first":null,"last":null,"size":null,"number":null,"numberOfElements":null,"totalPages":null,"totalElements":null},{Server=[nginx], Date=[Sun, 30 Dec 2018 10:11:24 GMT], Content-Type=[application/json;charset=UTF-8], Transfer-Encoding=[chunked], Connection=[keep-alive], Vary=[Accept-Encoding], X-Application-Context=[RobotRest:31194]}>, time : 160ms
2018-12-30 18:11:36,353 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.h.SaasRobotMessageHandler - tenantId 43, originType WEIXIN ,robotdata RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=null, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={}), get repsonse AskResponse(msgId=5669013c-c217-4c24-bec2-3603801d85d4, userId=90599da3-711a-4f4e-992e-7130e5bf3c18, tenantId=9, question=13933289056, tag=null, answerType=DEFAULT, answerSource=DEFAULT, content=ResponseTxtMessageBody(msg=???????????????????????????????????????????), dlgFinished=false, sessionId=bdf543a1-2e35-40af-91f4-8bcccd40af5c, satisfactionCommentInvitation=false)
2018-12-30 18:11:36,354 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.s.service.SaasRobotService - saas robot service get robotData RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=null, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={}),robotIntegrationContext is RobotIntegrationContext(questionInfo=QuestionInfo(tenantId=43, sessionId=cc4d7ff3-45e5-4f57-a268-fda98cd197b4, askUserId=90599da3-711a-4f4e-992e-7130e5bf3c18, robotId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, questionId=b18b8529-48de-4e47-8c0f-27ba343afd6b, question=13933289056, userLocation=null, userLocale=null, robotAppParam={"zabx":{"service_id":"gh_d23765661100"}}, strategyTransData={"tenantId":43,"serviceSessionId":"cc4d7ff3-45e5-4f57-a268-fda98cd197b4"}, questionType=null), easemobMessage=EasemobMessage(bodies=[com.easemob.weichat.models.message.EasemobTxtMessageBody@c1e04cf5], ext={weichat={msgId=b18b8529-48de-4e47-8c0f-27ba343afd6b, originType=null, visitor={source=null, openid=null, mp=null, userNickname=????:A??, trueName=null, sex=null, qq=null, email=null, phone=null, companyName=null, description=null, weixin=null, tags=null, callback_user=ouNrhjpghRxwkZi2A84BXmIB9hyE, gr_user_id=null}, agent=null, queueId=null, queueName=null, agentUsername=null, ctrlType=null, ctrlArgs=null, event=null, metadata=null, callcenter=null, language=null, marketing=null, service_session=null, html_safe_body=null, msg_id_for_ack=null, ack_for_msg_id=null, recall_flag=null, recall_msg_id=null, official_account={official_account_id=1787e4f3-5cd6-4b6b-9a28-741fbee05462, type=SYSTEM}, reserve_queue=null, match_flag=null}}, from=ouNrhjpghRxwkZi2A84BXmIB9hyE, to=gh_d23765661100, toJid=null, channelType=WX_OAUTH2, timestamp=null, msgId=null, channelId=3, channelName=????, ignoreExistingCheck=null, tenantId=43, serviceSessionId=cc4d7ff3-45e5-4f57-a268-fda98cd197b4, visitorUserId=90599da3-711a-4f4e-992e-7130e5bf3c18, originType=WEIXIN), serviceSession=ServiceSession(tenantId=43, serviceSessionId=cc4d7ff3-45e5-4f57-a268-fda98cd197b4, techChannelId=3, visitorUser=VisitorUser(username=null, techChannelType=null, techChannelId=null, techChannelInfo=null, uri=null, chatGroupId=null, trueName=null, sex=0, qq=null, email=null, phone=null, companyName=null, description=null, weixin=null, createDateTime=null, lastUpdateDateTime=null, sendMessageCount=0), queueId=47, robotId=0, chatRoomId=null, state=Processing, chatGroupId=539, messageSeqId=1, agentUserId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, agentUserNiceName=??, agentUserType=6, startDateTime=Sun Dec 30 18:11:36 CST 2018, stopDateTime=null, createDatetime=Sun Dec 30 18:11:36 CST 2018, lastChatMessage=ChatMessage(msgId=b18b8529-48de-4e47-8c0f-27ba343afd6b, tenantId=43, chatGroupId=0, sessionServiceId=null, messageType=ChatMessage, fromUser=null, toUser=null, contentType=application/easemob-msg, body=EasemobMessage(bodies=[com.easemob.weichat.models.message.EasemobTxtMessageBody@c1e04cf5], ext={weichat={msgId=b18b8529-48de-4e47-8c0f-27ba343afd6b, originType=null, visitor={source=null, openid=null, mp=null, userNickname=????:A??, trueName=null, sex=null, qq=null, email=null, phone=null, companyName=null, description=null, weixin=null, tags=null, callback_user=ouNrhjpghRxwkZi2A84BXmIB9hyE, gr_user_id=null}, agent=null, queueId=null, queueName=null, agentUsername=null, ctrlType=null, ctrlArgs=null, event=null, metadata=null, callcenter=null, language=null, marketing=null, service_session=null, html_safe_body=null, msg_id_for_ack=null, ack_for_msg_id=null, recall_flag=null, recall_msg_id=null, official_account={official_account_id=1787e4f3-5cd6-4b6b-9a28-741fbee05462, type=SYSTEM}, reserve_queue=null, match_flag=null}}, from=ouNrhjpghRxwkZi2A84BXmIB9hyE, to=gh_d23765661100, toJid=null, channelType=WX_OAUTH2, timestamp=null, msgId=null, channelId=3, channelName=????, ignoreExistingCheck=null, tenantId=43, serviceSessionId=cc4d7ff3-45e5-4f57-a268-fda98cd197b4, visitorUserId=90599da3-711a-4f4e-992e-7130e5bf3c18, originType=WEIXIN), chatGroupSeqId=0, sessionServiceSeqId=0, createDateTime=2018-12-30 18:11:36.161, timestamp=1546164696000, createMicroTimestamp=1546164696161000), techChannelType=wechat_oauth2, firstMessage=null, originType=WEIXIN, expire=true), menuId=null) answer is RobotAnswer(enableSilence=false, answerType=null, type=1, content={"transferToKf":true,"content":"???????????????????????????????????????????"})
2018-12-30 18:11:36,354 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 askRobotForAnswer success, robotId:7b721036-5b84-4805-b4e7-4832bb586269,robotIntegrationContext : {"questionInfo":{"tenantId":43,"sessionId":"cc4d7ff3-45e5-4f57-a268-fda98cd197b4","askUserId":"90599da3-711a-4f4e-992e-7130e5bf3c18","robotId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","questionId":"b18b8529-48de-4e47-8c0f-27ba343afd6b","question":"13933289056","userLocation":null,"userLocale":null,"robotAppParam":{"zabx":{"service_id":"gh_d23765661100"}},"strategyTransData":"{\"tenantId\":43,\"serviceSessionId\":\"cc4d7ff3-45e5-4f57-a268-fda98cd197b4\"}","questionType":null},"easemobMessage":{"bodies":[{"msg":"13933289056","type":"txt"}],"ext":{"weichat":{"msgId":"b18b8529-48de-4e47-8c0f-27ba343afd6b","originType":null,"visitor":{"source":null,"openid":null,"mp":null,"userNickname":"????:A??","trueName":null,"sex":null,"qq":null,"email":null,"phone":null,"companyName":null,"description":null,"weixin":null,"tags":null,"callback_user":"ouNrhjpghRxwkZi2A84BXmIB9hyE","gr_user_id":null},"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":null,"marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":null,"ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","type":"SYSTEM"},"reserve_queue":null,"match_flag":null}},"from":"ouNrhjpghRxwkZi2A84BXmIB9hyE","to":"gh_d23765661100","channelType":"wechat_oauth2","tenantId":43,"serviceSessionId":"cc4d7ff3-45e5-4f57-a268-fda98cd197b4","visitorUserId":"90599da3-711a-4f4e-992e-7130e5bf3c18","originType":"weixin","channel_id":3,"channel_name":"????"},"serviceSession":{"tenantId":43,"serviceSessionId":"cc4d7ff3-45e5-4f57-a268-fda98cd197b4","techChannelId":3,"visitorUser":{"tenantId":43,"userId":"90599da3-711a-4f4e-992e-7130e5bf3c18","userType":"Visitor","userScope":"Tenant","nicename":"????:A??","roles":"visitor","bizId":"43","status":"Disable","scope":"Tenant"},"queueId":47,"robotId":0,"state":"Processing","chatGroupId":539,"messageSeqId":1,"agentUserId":"c4fb2422-cc1c-4264-ad25-2fe937d00df1","agentUserNiceName":"??","agentUserType":6,"startDateTime":"2018-12-30 18:11:36","createDatetime":"2018-12-30 18:11:36","lastChatMessage":{"msgId":"b18b8529-48de-4e47-8c0f-27ba343afd6b","tenantId":43,"chatGroupId":0,"messageType":"ChatMessage","contentType":"application/easemob-msg","body":{"bodies":[{"msg":"13933289056","type":"txt"}],"ext":{"weichat":{"msgId":"b18b8529-48de-4e47-8c0f-27ba343afd6b","originType":null,"visitor":{"source":null,"openid":null,"mp":null,"userNickname":"????:A??","trueName":null,"sex":null,"qq":null,"email":null,"phone":null,"companyName":null,"description":null,"weixin":null,"tags":null,"callback_user":"ouNrhjpghRxwkZi2A84BXmIB9hyE","gr_user_id":null},"agent":null,"queueId":null,"queueName":null,"agentUsername":null,"ctrlType":null,"ctrlArgs":null,"event":null,"metadata":null,"callcenter":null,"language":null,"marketing":null,"service_session":null,"html_safe_body":null,"msg_id_for_ack":null,"ack_for_msg_id":null,"recall_flag":null,"recall_msg_id":null,"official_account":{"official_account_id":"1787e4f3-5cd6-4b6b-9a28-741fbee05462","type":"SYSTEM"},"reserve_queue":null,"match_flag":null}},"from":"ouNrhjpghRxwkZi2A84BXmIB9hyE","to":"gh_d23765661100","channelType":"wechat_oauth2","tenantId":43,"serviceSessionId":"cc4d7ff3-45e5-4f57-a268-fda98cd197b4","visitorUserId":"90599da3-711a-4f4e-992e-7130e5bf3c18","originType":"weixin","channel_id":3,"channel_name":"????"},"chatGroupSeqId":0,"sessionServiceSeqId":0,"createDateTime":1546164696161,"timestamp":1546164696000,"createMicroTimestamp":1546164696161000},"techChannelType":"wechat_oauth2","originType":"weixin","expire":true},"menuId":null}, robotAnswer : {"enableSilence":false,"answerType":null,"type":1,"content":"{\"transferToKf\":true,\"content\":\"???????????????????????????????????????????\"}"}
2018-12-30 18:11:36,356 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:11:36,357 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:11:36,358 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:11:36,361 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:11:36,363 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId obtain request, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1
2018-12-30 18:11:36,365 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId success, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:11:36,386 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:11:36,387 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:11:36,388 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:11:36,390 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:13,564 INFO  [http-nio-8999-exec-4]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:13,566 INFO  [http-nio-8999-exec-4]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:13,568 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:13,569 INFO  [http-nio-8999-exec-6]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:13,570 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:13,572 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:13,573 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:13,575 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:13,576 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId obtain request, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1
2018-12-30 18:12:13,578 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId success, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:13,598 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:13,600 INFO  [http-nio-8999-exec-10]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:13,601 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:13,603 INFO  [http-nio-8999-exec-2]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:17,227 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:17,229 INFO  [http-nio-8999-exec-8]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:17,230 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:17,232 INFO  [http-nio-8999-exec-5]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:17,233 INFO  [http-nio-8999-exec-4]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:17,235 INFO  [http-nio-8999-exec-4]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:17,236 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:17,238 INFO  [http-nio-8999-exec-1]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:17,239 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId obtain request, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1
2018-12-30 18:12:17,241 INFO  [http-nio-8999-exec-3]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotAgentId success, robotAgentId : c4fb2422-cc1c-4264-ad25-2fe937d00df1, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:17,259 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:17,261 INFO  [http-nio-8999-exec-9]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
2018-12-30 18:12:17,262 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute obtain request, robotRouteId : 43
2018-12-30 18:12:17,264 INFO  [http-nio-8999-exec-7]  c.e.k.r.i.c.r.i.RobotIntegrationInternalController - tenantId 43 getRobotByRobotRoute success, robotRouteId : 43, robotData : RobotData(id=6, tenantId=43, robotId=7b721036-5b84-4805-b4e7-4832bb586269, name=??, manufacturerId=2, manufacturerName=ai-saas, status=ENABLED, digitalMenu=false, avatar=null, robotTenantId=43, type=ai-saas, robotRouteId=43, robotAgentId=c4fb2422-cc1c-4264-ad25-2fe937d00df1, timeout=180, dynamicParams={saas_robot_id=3f724eff-25f7-4d25-b445-b2a5b15fcea3, saas_tenant_id=9, saas_user_pd=111qqq,,,, saas_username=robot1@easemob.com})
